import math
import time
from random import randint
from tqdm import tqdm


def to_list(r):
    return list(map(int, r.split()))


def to_str(r):
    return " ".join(list(map(str, r)))


def get_coords_from_console():
    n = int(input())
    coords = dict()
    for i in range(n):
        s = input().split(' ')
        coords[int(s[0])] = [int(float(s[1])), int(float(s[2]))]
    return coords


def get_coords_from_file(filename):
    with open(filename, "r") as f:
        st = f.read().split("\n")[1:]
        return {int(s.split()[0]): list(map(float, s.split()[1:])) for s in st if s}


two_opt_swap = lambda r, i, k: r[0:i] + r[k:-len(r) + i - 1:-1] + r[k + 1:len(r)]


class ILS:
    def __init__(self, filename):
        self.coords = get_coords_from_file(filename)
        self.old_i_dist, self.old_k_dist = 0, 0

    def get_dist(self, x, r):
        return math.hypot(self.coords[r[x - 1]][0] - self.coords[r[x]][0],
                          self.coords[r[x - 1]][1] - self.coords[r[x]][1])

    def get_i_k_dists(self, i, k, route):
        try:
            new_k_dist = self.get_dist(k + 1 if k + 1 < len(route) else 0, route)
        except KeyError:
            new_k_dist = 0
        try:
            new_i_dist = self.get_dist(i, route)
        except KeyError:
            new_i_dist = 0
        return new_i_dist, new_k_dist

    def calculate_total_distance(self, route, i=None, k=None, old_dist=None):
        if i and k and old_dist:
            return old_dist - self.old_i_dist - self.old_k_dist + sum(self.get_i_k_dists(i, k, route))
        else:
            res = 0
            for p in range(len(route)):
                res += self.get_dist(p, route)
        return res

    def two_opt(self, route):
        existing_route = route
        current_dist = self.calculate_total_distance(route)
        changed = True
        while changed:
            changed = False
            for i in range(len(existing_route)):
                for k in range(i + 1, len(existing_route)):
                    self.old_i_dist, self.old_k_dist = self.get_i_k_dists(i, k, existing_route)

                    new_route = two_opt_swap(existing_route, i, k)
                    new_dist = self.calculate_total_distance(new_route, i, k, current_dist)

                    if current_dist - new_dist >= 1:
                        # print(new_dist)
                        existing_route = new_route
                        current_dist = new_dist
                        changed = True
        return existing_route, current_dist

    def four_opt(self, route):
        rand_kek = lambda: randint(0, len(route) - 1) // 4
        x = rand_kek()
        y = x + rand_kek()
        z = y + rand_kek()
        return route[:x] + route[z:] + route[y:z] + route[x:y]

    def greedy(self, node=1):
        route_best = []
        len_best = float('inf')
        # for iter_index, iter in tqdm(coords.items()):
        route = [node]
        new_city_index, new_city_coords, distance = self.make_closer(self.coords[node], route)
        len_route = distance
        route.append(new_city_index)
        while len(route) < len(self.coords):
            new_city_index, new_city_coords, distance = self.make_closer(new_city_coords, route)
            len_route += distance
            route.append(new_city_index)
        if len_route < len_best:
            len_best = len_route
            route_best = route
        return route_best, len_best

    def make_closer(self, coords_city, past_cities):
        dist_best = float('inf')
        for id, cs in self.coords.items():
            if id not in past_cities:
                distance = math.hypot(coords_city[0] - cs[0], coords_city[1] - cs[1])
                if distance < dist_best:
                    dist_best = distance
                    closer_city_id = id
                    closer_city_coords = cs
        return closer_city_id, closer_city_coords, dist_best

    def local_search(self, start_route):
        return self.two_opt(start_route)

    def integrated_local_search(self, node, count=None, wanted_distance=None, last_route=None):
        if last_route:
            route = last_route
        else:
            route, _ = self.greedy(node)
            print(_)
        route, min_distance = self.local_search(route)
        print("Distance after 2-Opt Approach:", min_distance)
        print(route, len(route))
        if count:
            for i in tqdm(range(count)):
                new_route = self.four_opt(route)
                new_route, new_distance = self.local_search(new_route)
                if new_distance < min_distance:
                    min_distance = new_distance
                    route = new_route
        elif wanted_distance:
            while min_distance > wanted_distance:
                new_route = self.four_opt(route)
                new_route, new_distance = self.local_search(new_route)
                if new_distance < min_distance:
                    print(new_route, "\n", new_distance, ">", wanted_distance)
                    min_distance = new_distance
                    route = new_route
        print("Distance after 4-Opt Approach:", min_distance)
        # print(route, len(route))
        return route, min_distance


x, min_dist = ILS("datasets/ja_1000.txt").integrated_local_search(1, wanted_distance=196579.51, last_route=to_list("485 450 43 390 458 4 26 245 216 348 839 862 407 182 211 748 209 8 867 438 995 729 57 278 988 895 81 29 187 155 603 753 79 912 201 975 636 929 462 526 594 310 945 723 952 232 496 684 578 276 309 810 508 124 662 898 375 150 592 392 566 279 122 55 959 823 144 115 941 165 724 645 492 567 652 268 557 357 14 190 364 804 482 668 816 606 660 612 790 37 850 599 429 114 537 214 419 706 950 722 725 866 836 64 219 202 449 886 900 826 174 773 904 752 71 220 318 346 420 755 517 949 435 699 229 818 252 694 856 774 206 447 632 301 157 556 760 586 831 629 734 658 702 487 47 946 903 905 553 289 641 921 962 166 277 582 749 520 874 986 405 672 90 813 368 733 573 766 328 569 426 457 934 547 75 46 176 194 609 930 953 20 149 195 308 314 85 621 466 327 964 955 305 116 847 255 552 620 126 101 95 1000 127 345 527 539 56 399 958 902 507 542 692 717 846 107 9 942 834 983 129 33 571 91 319 436 241 795 475 948 509 739 274 758 335 474 628 798 61 136 966 924 505 192 424 764 794 287 595 514 623 12 146 712 118 203 378 605 993 678 334 184 691 453 894 579 869 750 780 581 872 354 264 745 528 655 535 266 31 326 730 477 470 461 502 524 580 441 597 497 814 422 48 108 484 196 213 406 812 180 164 481 890 215 882 253 13 534 19 607 25 383 295 267 181 743 23 584 87 800 240 452 160 772 591 265 361 456 431 933 437 523 651 783 444 179 472 207 244 642 235 977 385 344 443 970 183 402 819 944 501 70 961 257 842 336 280 728 205 293 142 671 35 248 139 991 827 105 158 154 175 863 228 432 393 936 53 343 718 271 570 66 851 807 324 564 321 829 483 604 617 622 679 388 313 337 499 727 169 972 52 212 910 707 260 631 854 442 137 409 249 732 973 918 397 42 352 824 359 575 596 151 152 259 540 981 145 588 189 153 236 78 16 50 577 768 915 781 384 6 519 844 926 370 415 985 210 785 693 550 338 351 657 695 30 185 861 299 796 704 100 751 455 957 106 754 817 269 284 809 69 374 888 428 170 97 951 521 777 865 639 561 417 802 256 913 62 546 200 3 17 173 998 715 440 418 782 199 708 110 611 498 522 103 616 940 870 601 504 80 261 939 640 980 585 275 325 776 590 307 954 408 833 635 297 529 840 294 246 363 841 467 714 416 243 922 217 369 412 218 538 109 963 290 464 703 356 330 341 312 843 22 82 427 799 744 125 587 825 916 479 767 387 887 943 350 996 102 394 98 468 425 976 852 286 380 113 7 821 188 311 233 21 885 583 574 683 162 459 445 938 67 494 891 49 99 72 735 688 40 60 273 968 680 925 589 226 901 633 889 123 757 820 306 875 541 736 366 999 638 822 513 237 439 423 465 231 88 225 132 811 93 448 317 713 627 171 637 358 63 44 808 626 670 133 971 720 391 543 316 353 625 54 283 906 298 647 700 177 893 94 304 371 917 858 548 897 664 223 303 667 690 76 876 746 877 488 339 32 377 186 77 860 618 478 871 560 653 51 544 398 685 673 563 914 884 568 404 510 716 600 39 27 239 197 555 147 614 250 227 73 430 990 864 376 530 848 835 121 859 845 763 365 771 701 969 791 65 134 503 987 178 222 883 296 198 849 997 68 486 258 741 1 372 24 45 434 300 367 291 634 675 410 315 208 10 506 762 34 469 650 593 661 979 512 709 495 562 89 511 329 403 899 234 471 281 36 947 937 395 172 992 516 515 928 333 525 873 787 803 778 549 931 5 610 572 719 576 738 451 285 927 880 224 797 742 689 396 602 473 974 518 805 878 135 649 935 143 128 251 644 721 545 104 674 907 355 669 96 254 868 682 838 761 342 349 491 15 696 656 792 381 120 322 770 676 565 536 320 705 292 789 476 801 168 272 737 131 163 83 58 332 454 493 230 598 262 119 270 832 740 828 400 756 710 41 156 242 401 982 779 765 386 908 112 648 282 659 654 663 830 360 923 362 238 221 489 159 263 28 460 414 413 302 2 920 697 665 138 558 698 533 687 446 775 389 619 532 896 994 161 167 11 879 726 677 148 965 191 666 613 111 323 480 490 411 731 747 554 38 786 793 340 92 288 117 630 932 881 892 855 204 59 559 347 615 911 784 463 646 247 141 967 960 681 919 331 984 373 989 421 769 382 531 500 837 759 551 140 853 433 711 815 130 624 379 74 84 978 86 643 686 608 857 909 788 806 18 956 193"))

print(" ".join(list(map(str, x))))
print(f"Min dist: {min_dist}")

# x = [418, 417, 178, 191, 926, 919, 653, 637, 187, 411, 377, 419, 900, 30, 70, 631, 634, 650, 924, 731, 730, 927, 278, 921, 925, 254, 880, 878, 879, 684, 111, 2, 1, 153, 155, 291, 374, 508, 549, 279, 896, 255, 538, 627, 511, 601, 744, 132, 108, 861, 862, 929, 726, 498, 358, 632, 23, 18, 932, 801, 449, 340, 447, 428, 794, 95, 863, 139, 140, 930, 399, 183, 209, 212, 928, 708, 27, 104, 223, 868, 922, 656, 477, 267, 615, 228, 395, 311, 313, 707, 668, 673, 144, 162, 161, 88, 450, 785, 923, 467, 711, 710, 939, 783, 858, 390, 240, 521, 370, 540, 607, 45, 541, 92, 749, 341, 743, 629, 906, 912, 312, 691, 742, 651, 698, 37, 62, 181, 182, 184, 82, 675, 306, 248, 347, 131, 247, 129, 75, 945, 299, 285, 262, 214, 213, 485, 487, 118, 943, 292, 290, 11, 156, 848, 847, 846, 652, 505, 509, 944, 565, 566, 644, 628, 466, 941, 911, 514, 654, 180, 748, 426, 849, 841, 876, 875, 433, 39, 600, 817, 41, 602, 543, 217, 293, 444, 723, 702, 17, 40, 54, 294, 233, 554, 760, 400, 382, 381, 501, 771, 931, 333, 175, 113, 117, 416, 394, 304, 883, 873, 60, 519, 525, 527, 823, 520, 388, 387, 303, 305, 99, 476, 308, 392, 121, 142, 806, 366, 578, 218, 219, 134, 355, 908, 503, 211, 210, 332, 310, 176, 864, 866, 316, 235, 227, 226, 662, 746, 423, 635, 251, 275, 145, 569, 845, 769, 34, 869, 754, 408, 164, 166, 404, 636, 938, 843, 626, 936, 559, 563, 564, 792, 935, 439, 437, 778, 599, 804, 805, 824, 827, 68, 322, 321, 320, 326, 325, 892, 534, 277, 253, 257, 536, 280, 296, 630, 35, 809, 779, 902, 904, 150, 448, 725, 732, 738, 350, 589, 137, 274, 492, 504, 533, 250, 750, 429, 497, 491, 736, 330, 328, 353, 575, 391, 323, 782, 57, 661, 660, 26, 676, 679, 471, 955, 733, 961, 445, 800, 415, 25, 489, 490, 611, 980, 61, 979, 609, 90, 978, 86, 891, 643, 597, 763, 762, 761, 120, 793, 647, 614, 378, 105, 265, 130, 5, 952, 256, 909, 133, 624, 766, 324, 28, 633, 682, 657, 412, 342, 685, 42, 43, 103, 454, 315, 686, 872, 884, 888, 64, 545, 53, 52, 152, 765, 63, 302, 951, 795, 797, 755, 756, 436, 751, 149, 949, 360, 7, 886, 3, 789, 790, 791, 518, 515, 914, 913, 193, 666, 664, 882, 572, 836, 198, 531, 948, 852, 590, 307, 432, 915, 128, 29, 361, 837, 700, 472, 810, 683, 581, 461, 373, 188, 167, 171, 339, 855, 642, 455, 577, 774, 942, 147, 146, 807, 677, 680, 905, 179, 177, 9, 12, 208, 638, 695, 693, 780, 148, 200, 13, 126, 125, 36, 887, 940, 441, 199, 107, 570, 402, 704, 688, 473, 4, 768, 715, 281, 259, 920, 379, 380, 562, 646, 606, 605, 561, 222, 221, 51, 839, 548, 856, 871, 867, 786, 618, 245, 367, 899, 446, 946, 246, 796, 814, 815, 463, 464, 877, 517, 406, 357, 87, 301, 327, 56, 947, 10, 8, 309, 317, 816, 594, 596, 595, 512, 165, 101, 735, 776, 808, 592, 593, 314, 375, 242, 709, 950, 598, 953, 409, 46, 874, 553, 728, 727, 854, 201, 507, 371, 977, 558, 857, 462, 284, 389, 351, 859, 770, 767, 658, 69, 842, 840, 97, 96, 216, 298, 44, 48, 65, 66, 73, 258, 185, 488, 230, 655, 901, 965, 295, 719, 967, 718, 717, 186, 356, 354, 821, 435, 434, 623, 622, 560, 475, 850, 502, 798, 481, 38, 410, 528, 459, 396, 407, 881, 32, 33, 974, 649, 975, 610, 479, 136, 480, 478, 591, 587, 586, 22, 714, 713, 712, 539, 261, 897, 283, 838, 349, 79, 74, 241, 604, 764, 154, 496, 844, 803, 903, 160, 196, 401, 971, 740, 970, 724, 721, 720, 384, 98, 689, 690, 705, 706, 741, 973, 47, 551, 976, 506, 287, 972, 829, 830, 969, 828, 31, 16, 14, 544, 526, 747, 81, 78, 968, 898, 80, 918, 249, 143, 273, 138, 141, 555, 556, 737, 802, 119, 438, 442, 50, 663, 72, 197, 758, 757, 440, 966, 345, 343, 300, 832, 833, 834, 115, 716, 229, 687, 21, 20, 405, 403, 917, 451, 194, 831, 835, 231, 232, 234, 91, 530, 331, 329, 739, 513, 516, 550, 671, 288, 960, 529, 612, 579, 580, 584, 745, 270, 334, 335, 336, 338, 665, 678, 681, 49, 24, 19, 272, 268, 787, 964, 15, 163, 784, 674, 672, 667, 452, 552, 383, 820, 818, 470, 397, 781, 811, 959, 546, 524, 522, 286, 895, 348, 422, 568, 567, 799, 195, 67, 670, 613, 359, 58, 266, 297, 484, 486, 608, 337, 106, 376, 585, 122, 123, 215, 430, 385, 386, 641, 788, 956, 907, 318, 319, 639, 851, 813, 890, 958, 616, 894, 825, 826, 889, 346, 344, 962, 263, 865, 83, 207, 224, 822, 963, 722, 109, 110, 483, 669, 523, 469, 468, 89, 55, 59, 648, 645, 542, 84, 85, 94, 93, 172, 173, 352, 640, 957, 853, 819, 621, 620, 619, 617, 6, 954, 174, 535, 239, 500, 499, 236, 169, 170, 413, 937, 362, 363, 414, 260, 537, 752, 282, 753, 893, 372, 699, 870, 910, 206, 205, 204, 458, 696, 697, 243, 276, 203, 369, 190, 225, 495, 494, 493, 365, 777, 220, 860, 202, 465, 557, 151, 71, 659, 192, 127, 453, 775, 703, 124, 269, 694, 692, 482, 474, 885, 398, 252, 729, 734, 625, 603, 159, 157, 701, 289, 934, 425, 424, 364, 271, 933, 100, 510, 532, 135, 112, 114, 116, 368, 916, 571, 158, 76, 77, 812, 168, 189, 264, 244, 456, 772, 457, 773, 576, 582, 583, 588, 427, 431, 547, 102, 443, 460, 574, 573, 420, 421, 759, 393, 237, 238]
# print(to_str(x))

# # print(" ".join(list(map(str, x))))
#
# from multiprocessing.dummy import Pool
#
# # Make the Pool of workers
# from os import walk
#
# _, _, filenames = next(walk("datasets"))
#
# x = {}
# for file in filenames:
#     x.update({file.split(".")[0]: ILS(f"datasets/{file}").integrated_local_search})
#
# pool = Pool(len(filenames))
#
# # Open the URLs in their own threads
# # and return the results
# results = pool.map(urllib2.urlopen, urls)
#
# # Close the pool and wait for the work to finish
# pool.close()
# pool.join()

# x = "207 633 850 845 94 859 296 958 30 440 12 685 478 93 897 779 833 818 953 300 803 501 981 806 561 828 299 629 481 532 365 488 133 891 180 311 49 289 444 977 61 201 153 668 910 766 139 930 725 53 615 262 156 849 569 542 751 753 173 932 368 587 870 586 351 856 1 832 423 862 373 334 874 424 63 505 357 576 533 150 206 908 225 657 952 588 827 24 755 113 391 397 752 652 563 20 73 973 140 861 171 123 966 78 98 301 965 945 388 969 307 385 705 541 723 163 104 203 26 336 624 122 97 38 579 508 621 421 894 573 479 468 968 537 985 161 54 398 912 264 378 224 64 376 721 837 175 130 674 776 783 194 951 582 167 471 707 608 272 144 136 497 898 286 794 354 918 127 147 913 425 638 520 820 447 983 328 135 396 466 892 800 146 409 975 50 129 991 18 745 905 777 860 333 500 48 821 314 854 791 498 655 281 268 640 160 782 192 3 8 52 82 670 483 748 927 372 492 667 625 578 214 32 389 491 811 959 291 970 530 74 798 276 404 240 489 758 212 946 817 617 106 234 807 810 938 428 540 571 899 627 401 222 200 785 495 742 377 165 277 689 601 232 4 204 35 802 116 528 823 847 643 406 851 518 125 884 546 417 217 606 531 6 344 936 181 347 39 671 934 239 485 198 565 538 620 706 220 356 184 282 630 808 298 921 361 835 221 332 306 605 432 11 649 367 596 238 352 294 205 926 318 558 384 448 252 493 174 216 316 529 864 364 353 326 678 434 885 684 189 320 117 245 442 796 190 111 199 81 631 813 719 661 273 829 410 550 574 88 526 710 470 5 769 229 143 476 236 773 92 330 290 940 436 168 744 566 210 693 902 553 244 33 841 507 429 235 395 786 121 720 650 694 857 188 169 516 152 602 695 733 737 137 266 580 310 848 654 91 770 916 477 816 994 258 700 183 961 407 947 43 883 729 781 944 622 517 374 746 115 844 804 838 193 325 453 768 696 957 750 663 405 594 254 680 544 524 731 889 616 858 185 159 767 825 321 903 342 433 950 131 379 375 270 226 437 513 865 338 304 933 772 400 114 292 974 822 162 308 260 279 101 499 567 915 929 41 669 697 176 967 632 242 348 369 418 730 37 726 358 564 218 880 522 774 863 340 990 830 58 112 233 557 208 100 581 677 247 790 597 313 31 56 415 589 688 302 219 896 819 676 872 109 55 614 75 702 555 430 879 445 842 867 734 521 648 738 179 792 942 452 322 155 105 243 922 598 760 458 683 487 256 712 585 128 427 426 881 708 893 793 283 120 151 87 868 231 871 275 27 960 89 462 709 686 119 570 103 263 66 682 996 609 607 172 381 126 939 157 187 834 149 882 7 467 548 76 19 660 412 901 604 514 84 612 717 13 399 419 956 80 906 95 907 664 62 309 339 68 25 14 512 635 735 971 223 853 789 653 110 411 230 197 675 613 390 280 269 658 972 414 382 987 599 666 765 646 775 611 704 724 464 297 482 878 65 998 469 826 628 761 764 703 634 690 511 107 590 295 554 455 900 474 124 715 556 931 539 642 713 762 265 402 743 21 324 227 408 869 461 9 824 502 534 370 948 456 740 274 911 255 319 148 177 457 506 887 943 34 420 895 312 154 17 459 202 920 435 805 568 997 70 164 989 443 327 928 662 28 132 797 919 383 665 463 584 839 718 343 687 801 465 659 875 877 799 186 852 191 504 935 57 722 728 438 142 509 923 716 647 45 988 986 993 494 380 727 886 626 79 178 22 23 855 701 982 480 403 962 10 980 15 562 600 2 964 473 949 475 422 843 749 449 96 293 525 341 754 645 484 40 496 551 812 623 337 756 795 366 285 241 523 118 651 577 992 656 386 451 355 914 995 739 261 527 560 692 251 42 287 145 763 711 253 108 472 963 331 941 387 636 69 371 490 16 46 545 209 535 134 559 924 86 77 215 937 917 362 815 771 925 536 413 732 431 1000 288 595 784 610 72 170 303 904 714 787 999 228 909 698 583 673 955 138 759 47 780 954 60 259 83 249 840 503 486 757 29 59 552 446 976 213 441 978 250 979 363 888 335 195 836 543 681 284 267 393 392 246 278 592 679 349 346 866 846 637 876 890 359 549 639 196 788 141 519 271 460 736 814 360 454 329 44 211 345 515 394 305 809 619 510 450 51 99 237 257 691 71 873 323 67 248 641 317 699 166 572 575 36 747 644 593 603 158 984 416 350 672 315 831 591 778 618 102 85 182 741 439 547 90"
# # Min dist: 183086.7365476046
# z = list(map(int, x.split()))
#
# print(ILS("datasets/mona_1000.txt").calculate_total_distance(z))

# import requests
# # x = "207 633 850 845 94 859 296 958 30 440 12 685 478 93 897 779 833 818 953 300 803 501 981 806 561 828 299 629 481 532 365 488 133 891 180 311 49 289 444 977 61 201 153 668 910 766 139 930 725 53 615 262 156 849 569 542 751 753 173 932 368 587 870 586 351 856 1 832 423 862 373 334 874 424 63 505 357 576 533 150 206 908 225 657 952 588 827 24 755 113 391 397 752 652 563 20 73 973 140 861 171 123 966 78 98 301 965 945 388 969 307 385 705 541 723 163 104 203 26 336 624 122 97 38 579 508 621 421 894 573 479 468 968 537 985 161 54 398 912 264 378 224 64 376 721 837 175 130 674 776 783 194 951 582 167 471 707 608 272 144 136 497 898 286 794 354 918 127 147 913 425 638 520 820 447 983 328 135 396 466 892 800 146 409 975 50 129 991 18 745 905 777 860 333 500 48 821 314 854 791 498 655 281 268 640 160 782 192 3 8 52 82 670 483 748 927 372 492 667 625 578 214 32 389 491 811 959 291 970 530 74 798 276 404 240 489 758 212 946 817 617 106 234 807 810 938 428 540 571 899 627 401 222 200 785 495 742 377 165 277 689 601 232 4 204 35 802 116 528 823 847 643 406 851 518 125 884 546 417 217 606 531 6 344 936 181 347 39 671 934 239 485 198 565 538 620 706 220 356 184 282 630 808 298 921 361 835 221 332 306 605 432 11 649 367 596 238 352 294 205 926 318 558 384 448 252 493 174 216 316 529 864 364 353 326 678 434 885 684 189 320 117 245 442 796 190 111 199 81 631 813 719 661 273 829 410 550 574 88 526 710 470 5 769 229 143 476 236 773 92 330 290 940 436 168 744 566 210 693 902 553 244 33 841 507 429 235 395 786 121 720 650 694 857 188 169 516 152 602 695 733 737 137 266 580 310 848 654 91 770 916 477 816 994 258 700 183 961 407 947 43 883 729 781 944 622 517 374 746 115 844 804 838 193 325 453 768 696 957 750 663 405 594 254 680 544 524 731 889 616 858 185 159 767 825 321 903 342 433 950 131 379 375 270 226 437 513 865 338 304 933 772 400 114 292 974 822 162 308 260 279 101 499 567 915 929 41 669 697 176 967 632 242 348 369 418 730 37 726 358 564 218 880 522 774 863 340 990 830 58 112 233 557 208 100 581 677 247 790 597 313 31 56 415 589 688 302 219 896 819 676 872 109 55 614 75 702 555 430 879 445 842 867 734 521 648 738 179 792 942 452 322 155 105 243 922 598 760 458 683 487 256 712 585 128 427 426 881 708 893 793 283 120 151 87 868 231 871 275 27 960 89 462 709 686 119 570 103 263 66 682 996 609 607 172 381 126 939 157 187 834 149 882 7 467 548 76 19 660 412 901 604 514 84 612 717 13 399 419 956 80 906 95 907 664 62 309 339 68 25 14 512 635 735 971 223 853 789 653 110 411 230 197 675 613 390 280 269 658 972 414 382 987 599 666 765 646 775 611 704 724 464 297 482 878 65 998 469 826 628 761 764 703 634 690 511 107 590 295 554 455 900 474 124 715 556 931 539 642 713 762 265 402 743 21 324 227 408 869 461 9 824 502 534 370 948 456 740 274 911 255 319 148 177 457 506 887 943 34 420 895 312 154 17 459 202 920 435 805 568 997 70 164 989 443 327 928 662 28 132 797 919 383 665 463 584 839 718 343 687 801 465 659 875 877 799 186 852 191 504 935 57 722 728 438 142 509 923 716 647 45 988 986 993 494 380 727 886 626 79 178 22 23 855 701 982 480 403 962 10 980 15 562 600 2 964 473 949 475 422 843 749 449 96 293 525 341 754 645 484 40 496 551 812 623 337 756 795 366 285 241 523 118 651 577 992 656 386 451 355 914 995 739 261 527 560 692 251 42 287 145 763 711 253 108 472 963 331 941 387 636 69 371 490 16 46 545 209 535 134 559 924 86 77 215 937 917 362 815 771 925 536 413 732 431 1000 288 595 784 610 72 170 303 904 714 787 999 228 909 698 583 673 955 138 759 47 780 954 60 259 83 249 840 503 486 757 29 59 552 446 976 213 441 978 250 979 363 888 335 195 836 543 681 284 267 393 392 246 278 592 679 349 346 866 846 637 876 890 359 549 639 196 788 141 519 271 460 736 814 360 454 329 44 211 345 515 394 305 809 619 510 450 51 99 237 257 691 71 873 323 67 248 641 317 699 166 572 575 36 747 644 593 603 158 984 416 350 672 315 831 591 778 618 102 85 182 741 439 547 90"
# x = "847 446 976 213 552 59 29 486 757 823 528 204 35 802 116 840 503 954 60 259 83 249 170 303 732 431 784 610 72 595 288 1000 500 48 333 860 777 905 745 18 991 129 50 975 409 146 800 892 466 135 396 8 3 192 52 82 782 160 640 268 281 655 498 791 854 821 314 625 530 970 291 959 811 491 578 214 32 389 4 232 601 689 165 377 277 74 798 276 240 404 748 927 492 667 372 670 483 38 579 508 621 421 894 573 479 224 328 983 447 820 520 638 425 913 147 127 918 354 794 286 898 497 136 144 272 608 471 707 727 380 886 626 79 494 993 986 988 45 142 509 923 722 728 438 191 504 935 57 716 647 167 582 951 194 783 776 674 130 175 837 721 376 64 378 264 912 968 468 537 985 398 54 161 624 336 122 97 26 203 104 163 723 385 307 969 388 945 965 301 98 78 966 123 705 541 171 861 140 973 73 20 563 652 752 397 391 113 755 952 657 225 24 827 588 908 206 150 533 576 505 357 938 810 807 234 106 617 817 946 212 758 489 742 495 785 200 222 401 627 899 571 540 428 153 444 289 891 133 851 936 344 6 531 606 884 546 217 417 125 518 629 299 828 561 806 803 981 501 870 587 481 532 365 488 262 156 849 569 368 932 173 753 542 615 751 53 725 930 139 766 910 180 311 49 977 61 201 668 63 424 874 334 373 862 423 832 1 586 351 856 12 685 440 30 958 296 859 94 845 850 207 633 478 93 897 779 833 818 300 953 238 596 649 11 432 605 306 367 352 294 205 926 318 448 384 558 529 864 364 353 326 678 434 885 320 117 245 442 796 190 111 199 81 631 813 719 661 550 526 710 470 5 769 229 143 410 829 273 654 91 770 961 407 183 916 477 816 994 258 700 947 43 883 729 781 944 622 517 374 746 115 844 804 838 193 325 58 112 233 557 208 100 581 597 313 790 247 677 87 151 120 283 426 881 708 893 793 31 56 415 589 688 302 219 896 819 55 614 75 702 555 430 879 445 842 867 734 922 598 760 458 683 872 109 676 256 487 712 128 427 868 231 871 275 27 709 462 686 119 89 960 585 570 103 263 66 682 996 609 607 172 126 381 105 243 521 648 738 467 7 942 792 179 155 939 157 452 322 187 834 149 882 101 279 260 308 548 76 19 660 412 901 604 514 84 612 717 13 399 419 956 80 906 95 907 664 62 309 339 68 25 14 459 202 920 435 805 568 997 70 895 312 154 17 512 635 735 971 853 223 197 675 613 390 658 972 269 280 987 599 382 414 666 765 775 646 469 826 628 761 764 703 634 690 511 900 474 455 554 295 590 107 265 715 124 556 931 539 642 713 762 402 743 998 65 21 324 878 482 297 461 869 408 227 852 799 186 22 178 23 855 701 982 403 480 659 465 801 875 877 9 274 911 464 724 611 704 110 653 411 230 789 506 887 457 177 319 255 148 943 34 420 456 948 740 824 502 534 370 164 989 443 327 928 662 28 132 797 687 383 665 463 584 839 718 343 962 10 980 15 562 600 2 964 949 473 545 209 535 134 559 924 86 77 215 937 917 362 815 771 413 536 925 69 371 490 16 46 754 422 475 843 96 749 449 919 366 795 285 241 523 118 651 90 547 739 995 914 451 355 261 251 42 560 692 527 386 656 992 577 756 337 623 812 525 293 341 645 484 40 496 551 941 331 387 636 714 904 787 999 698 909 228 963 145 287 763 711 253 108 472 673 583 955 138 759 47 780 158 603 593 644 747 36 575 572 984 416 350 672 315 831 591 778 618 102 85 182 741 439 513 865 304 933 772 400 114 974 822 162 292 929 915 499 567 41 669 697 176 967 632 242 348 369 418 730 37 726 358 825 767 321 159 185 564 218 880 522 774 863 340 990 830 453 768 696 957 750 663 405 594 254 858 616 524 544 680 266 580 310 848 476 236 773 330 92 88 574 189 684 349 316 216 174 493 252 332 221 835 592 679 346 866 846 637 876 890 359 549 196 639 284 681 836 543 141 788 271 519 335 195 888 736 460 436 168 940 290 152 602 695 733 737 137 731 889 342 903 950 131 338 379 375 270 226 437 121 433 720 650 694 169 516 188 857 244 786 395 235 345 515 507 429 841 33 553 902 693 210 566 744 814 360 454 329 211 44 394 305 809 619 510 450 641 317 699 166 248 67 323 873 71 691 257 237 99 51 363 979 250 978 267 393 278 246 392 441 921 361 298 808 630 282 356 184 239 934 671 39 347 181 565 198 485 538 220 706 620 406 643"
# r = requests.post("https://176.57.208.231/",
#                   data={"team_name": "sharkeng", "problem_name": "Mona Lisa", "solution": x, "submit": "GO"}, verify=False)
#
# print(r.text)
